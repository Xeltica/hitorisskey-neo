# バックエンドのデザインパターン

## Controller

Web APIを実装する。

Controllerに実装できるのは、Serviceへの呼び出しおよび、軽微な処理のみである。

Prisma Clientに直接アクセスしたり、複雑なビジネスロジックを実装してはいけない。そういった処理は全てServiceに実装する。

### 実装ルール

* メソッド名は、 `create` `read` `update` `delete` か、その他の処理であればそれを示す動詞から始めること。
* リクエストボディはzodを用いて必ずバリデーションすること。
* DBからの取得値をそのままAPIで返さず、必ずフィルタリングすること。
  * filter 関数を作成し、返すべき値のみをマップするようにすること。

## Service

ビジネスロジックを実装する。

Serviceは、他のServiceを呼び出すことができる。
